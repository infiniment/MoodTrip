<!DOCTYPE html>
<html lang="ko" class="no-js modern" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>weather-place-page</title>
  <link rel="stylesheet" th:href="@{/css/recommand-tourist-attractions-detail/weather-detail-page.css}">
</head>
<body class="landing">
<div class="main">
  <div class="container">
    <div class="weater-detail">
      <section class="weather-detail-container">
        <!-- 오늘의 날씨 -->
        <div class="today-weather" th:if="${weather != null}">
          <p class="time" th:text="${weather.formattedDateTime}"></p>

          <div class="weather">
            <p class="current-degree">
              <img th:src="@{'https://openweathermap.org/img/wn/' + ${weather.icon} + '@2x.png'}"
                   width="80" alt="날씨 아이콘">
              <span th:text="${T(java.lang.Math).round(weather.temperature)} + '°'">27°</span>
            </p>
            <p class="weater-state" th:text="${weather.description}">맑음</p>
            <p class="highest-lowest-degree"
               th:text="'최고: ' + ${T(java.lang.Math).round(weather.temperature + 1)} + '° 최저: ' + ${T(java.lang.Math).round(weather.temperature - 1)} + '°'">
              최고: 28° 최저: 17°
            </p>
          </div>
        </div>
        <div class="today-weather" th:if="${weather == null}">
          <p>현재 날씨 정보가 없습니다.</p>
        </div>

        <!-- 관광지/버튼 -->
        <div class="weather-recommand-region">
          <div class="search-btn-wrapper">
            <div class="search-btn">
              <img alt="슬라이드" th:src="@{/image/recommand-tourist-attractions-detail/left-slider.png}">
            </div>
          </div>
          <div class="region-button-list">
            <div class="heart-button-wrapper">
              <div class="blank"></div>
              <div class="heart-img-wrapper">
                <img th:src="@{/image/recommand-tourist-attractions-detail/heart.png}" alt="찜">
              </div>
            </div>
            <a class="region-button" style="width: 240px;" data-target="detail">상세정보</a>
            <a class="region-button" style="width: 240px;" data-target="tag">장소 태그</a>
            <a class="region-button" style="width: 240px;" data-target="map">길찾기</a>
          </div>
          <div class="recommand-region" th:if="${detail != null}">
            <p class="region-name">
              <img th:src="@{/image/recommand-tourist-attractions-detail/location.png}" alt="위치" class="location-icon">
              <span th:text="${detail.title}">사려니숲길</span>
            </p>
            <img th:src="${detail.image}" alt="선택관광지이미지" class="region-image">
          </div>
        </div>
      </section>

      <!-- 상세정보 섹션 -->
      <section class="button-result-container">
        <div class="place-detail-section section-content" th:if="${detail != null}">
          <div class="place-middle">
            <div class="place-detail">
              <span class="detail-icon">ℹ️</span> 상세정보
            </div>
            <div class="place-detail-info">
              <div class="info-grid">
                <div class="info-item">
                  <span class="info-label">📞 문의 및 안내</span>
                  <span class="info-value" th:text="${detail.tel}">사려니숲길 064-900-8800</span>
                </div>
                <div class="info-item">
                  <span class="info-label">📍 위치</span>
                  <span class="info-value" th:text="${detail.addr}">제주특별자치도...</span>
                </div>
                <div class="info-item">
                  <span class="info-label">🕐 이용시간</span>
                  <span class="info-value" th:text="${detail.useTime}">09:00~17:00</span>
                </div>
                <div class="info-item">
                  <span class="info-label">🗓️ 휴일</span>
                  <span class="info-value" th:text="${detail.restDate}">연중무휴</span>
                </div>
                <div class="info-item">
                  <span class="info-label">🚗 주차</span>
                  <span class="info-value" th:text="${detail.parking}">주차가능</span>
                </div>
              </div>
            </div>
            <div class="place-detail-wrapper">
              <div class="place-detail-content">
                <div class="content-section">
                  <h4>🎬 여행 정보</h4>
                  <p th:text="${detail.overview}">사려니숲길 설명...</p>
                </div>
                <div class="content-section extra-info hidden">
                  <h4>🌲 상세 이야기</h4>
                </div>
                <button class="toggle-btn">
                  <span class="toggle-text">더 자세히 보기</span>
                  <span class="toggle-icon">▼</span>
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- 감정 태그 -->
        <div class="place-tag-info section-content">
          <div class="place-tag">
            <span class="tag-icon">ℹ️</span> 감정 태그
          </div>
          <div class="tag-info">
            <div class="place-tag" th:if="${tags != null and !#lists.isEmpty(tags)}">
              <span class="tag-item" th:each="t : ${tags}" th:text="'#' + ${t}">#태그</span>
            </div>
            <div th:if="${tags == null or #lists.isEmpty(tags)}">
              <p>태그가 없습니다.</p>
            </div>
          </div>
        </div>

        <!-- 길찾기 -->
        <div class="map-placeholder section-content">
          <div class="place-map">
            <span class="map">ℹ️</span> 길찾기
          </div>
          <div class="map-info">
            <p>🚧 길찾기 기능은 아직 준비 중입니다!</p>
          </div>
        </div>
      </section>
    </div>
  </div>
</div>
<script th:src="@{/js/recommand-tourist-attractions-detail/weather-detail-page.js}"></script>
</body>
</html>
