<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>무드트립 - 전체 공지사항</title>
    <link rel="stylesheet" href="/css/customer-center/announcement.css">
    <link rel=" stylesheet" th:href="@{/css/fix/header.css}">
    <link rel="stylesheet" th:href="@{/css/fix/footer.css}">
    <link rel="stylesheet" th:href="@{/css/fix/header-after.css}">

</head>
<!-- 로그인 상태에 따른 조건부 헤더 렌더링 -->
<div th:if="${isLoggedIn}">
    <!-- 로그인된 사용자용 헤더 -->
    <th:block th:replace="~{fix/header-after-login :: header}"></th:block>
</div>
<div th:unless="${isLoggedIn}">
    <!-- 로그인 안된 사용자용 헤더 -->
    <th:block th:replace="~{fix/header :: header}"></th:block>
</div>
<body>
    <div class="announcement-layout">
        <div class="announcement-layout-main">
            <main role="main">
                <div class="section-page">
                    <div class="announcement-container-inner">
                        <!-- 검색 섹션 -->
                        <div class="search-container">
                            <div class="search-input-container">
                                <form role="search" class="search-form" data-search="" data-instant="true" autocomplete="off" action="" accept-charset="UTF-8" method="get">
                                    <input name="utf8" type="hidden" value="✓" autocomplete="off">
                                    <div class="search-wrapper">
                                        <input 
                                            type="search" 
                                            name="query" 
                                            id="query" 
                                            class="search-input"
                                            placeholder="궁금한 점을 검색해 보세요" 
                                            autocomplete="off" 
                                            aria-label="궁금한 점을 검색해 보세요"
                                        >
                                        <button type="submit" class="search-button">
                                            <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                                <circle cx="11" cy="11" r="8"></circle>
                                                <path d="m21 21-4.35-4.35"></path>
                                            </svg>
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>

                        <!-- 제목 섹션 -->
                        <div class="title-container">
                            <div class="title-inner">
                                <h1 class="title-text">전체 공지사항</h1>
                                <p class="title-description">무드트립의 최신 소식과 중요한 공지사항을 확인하세요</p>
                            </div>
                        </div>

                        <!-- 정렬 옵션 -->
                        <div class="sort-container">
                            <div class="sort-options">
                                <button class="sort-button active" data-sort="latest">최신순</button>
                                <button class="sort-button" data-sort="important">중요공지</button>
                                <button class="sort-button" data-sort="popular">조회순</button>
                            </div>
                            <!-- 결과 개수 -->
                            <div class="result-count">
                                <span>총 <strong th:text="${totalItems}">0</strong>개의 공지사항</span>
                            </div>
                        </div>

                        <!-- 공지사항 목록 -->
                        <ul class="announcement-list-container">
                            <li th:each="notice : ${notices}"
                                class="announcement-list-item"
                                th:classappend="${notice.isImportant} ? 'important' : ''">
                                <div class="announcement-badge"
                                     th:class="${notice.isImportant} ? 'announcement-badge important' : 'announcement-badge'"
                                     th:text="${notice.isImportant} ? '중요' : '공지'">공지</div>
                                <div class="announcement-content">
                                    <a class="announcement-list-item-link"
                                       th:href="@{/customer-center/announcement-detail(id=${notice.id})}"
                                       th:text="${notice.title}">
                                        공지사항 제목
                                    </a>
                                    <div class="announcement-meta">
                <span class="announcement-date"
                      th:text="${#temporals.format(notice.registeredDate, 'yyyy.MM.dd')}">2025.04.17</span>
                                        <span class="announcement-views"
                                              th:text="'조회 ' + ${notice.viewCount != null ? notice.viewCount : 0}">조회 0</span>
                                    </div>
                                </div>
                            </li>
                        </ul>


                        <!-- 페이징 섹션 -->
                        <div class="pagination-container">
                            <nav class="pagination" aria-label="페이지 네비게이션">
                                <button class="pagination-button prev" disabled>
                                    <svg class="pagination-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <polyline points="15,18 9,12 15,6"></polyline>
                                    </svg>
                                    이전
                                </button>

                                <div class="pagination-numbers">
                                    <button th:each="pageNum : ${#numbers.sequence(1, totalPages)}"
                                            class="pagination-number"
                                            th:classappend="${pageNum == currentPage} ? 'active' : ''"
                                            th:data-page="${pageNum}"
                                            th:text="${pageNum}">1</button>
                                </div>
                                
                                <button class="pagination-button next">
                                    다음
                                    <svg class="pagination-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <polyline points="9,18 15,12 9,6"></polyline>
                                    </svg>
                                </button>
                            </nav>
                            
                            <div class="pagination-info">
                                <span>1 - 10 / <span><strong th:text="${totalItems}">0</strong>개</span></span>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script src="/js/customer-center/announcement.js"></script>
    <th:block th:replace="~{fix/footer :: footer}"></th:block>

    <script th:src="@{/js/fix/header.js}"></script>
    <script th:src="@{/js/fix/header-after.js}"></script>
</body>
</html>