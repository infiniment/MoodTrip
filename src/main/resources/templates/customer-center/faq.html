<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>무드트립 - 자주 묻는 질문</title>
    <link rel="stylesheet" href="/css/customer-center/faq.css">
</head>
<body>
    <div class="faq-layout">
        <div class="faq-layout-main">
            <main role="main">
                <div class="section-page">
                    <div class="faq-container-inner">
                        <!-- 검색 섹션 -->
                        <div class="search-container">
                            <div class="search-input-container">
                                <form role="search" class="search-form" data-search="" data-instant="true" autocomplete="off" action="" accept-charset="UTF-8" method="get">
                                    <input name="utf8" type="hidden" value="✓" autocomplete="off">
                                    <div class="search-wrapper">
                                        <input 
                                            type="search" 
                                            name="query" 
                                            id="query" 
                                            class="search-input"
                                            placeholder="궁금한 점을 검색해 보세요" 
                                            autocomplete="off" 
                                            aria-label="궁금한 점을 검색해 보세요"
                                        >
                                        <button type="submit" class="search-button">
                                            <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                                <circle cx="11" cy="11" r="8"></circle>
                                                <path d="m21 21-4.35-4.35"></path>
                                            </svg>
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>

                        <!-- 제목 섹션 -->
                        <div class="title-container">
                            <div class="title-inner">
                                <h1 class="title-text">자주 묻는 질문</h1>
                                <p class="title-description">무드트립 이용 중 자주 묻는 질문들을 확인하세요</p>
                            </div>
                        </div>

                        <!-- 카테고리 및 정렬 옵션 -->
                        <div class="filter-container">
                            <div class="category-container">
                                <div class="faq-categories" id="faq-categories">
                                    <button class="category-button active" data-category="all">전체</button>
                                    <button class="category-button" data-category="service">서비스 소개</button>
                                    <button class="category-button" data-category="profile">회원 정보</button>
                                    <button class="category-button" data-category="usage">이용 방법</button>
                                    <button class="category-button" data-category="payment">결제</button>
                                    <button class="category-button" data-category="refund">취소·환불</button>
                                    <button class="category-button" data-category="dispute">분쟁·페널티</button>
                                </div>
                            </div>
                            
                            <div class="sort-container">
                                <div class="sort-options">
                                    <button class="sort-button active" data-sort="popular">인기순</button>
                                    <button class="sort-button" data-sort="latest">최신순</button>
                                    <button class="sort-button" data-sort="alphabetical">가나다순</button>
                                </div>
                                <!-- 질문 카운트 -->
                                <div class="result-count">
                                    <span>총 <strong th:text="${totalItems}">0</strong>개의 질문</span>
                                </div>
                            </div>
                        </div>

                        <!-- FAQ 목록 -->
                        <div class="faq-list-container" id="faq-list">
                            <div th:each="faq : ${faqs}" class="faq-item-card">
                                <div class="faq-category-tag" th:text="${faq.category}">카테고리</div>
                                <div class="faq-content">
                                    <a class="faq-item-link"
                                       th:href="@{/customer-center/faq-detail(id=${faq.id})}"
                                       th:text="|[${faq.category}] ${faq.title}|">
                                    </a>
                                    <div class="faq-meta">
                                        <span class="faq-views" th:text="|조회 ${faq.viewCount}|">조회수</span>
                                    </div>
                                </div>
                                <div class="faq-action">
                                    <button class="helpful-button" data-type="helpful" th:data-faq-id="${faq.id}">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                            <path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- 페이징 섹션 -->
                        <div class="pagination-container">
                            <nav class="pagination" aria-label="페이지 네비게이션">
                                <button class="pagination-button prev" th:disabled="${currentPage == 1}">
                                    <svg class="pagination-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <polyline points="15,18 9,12 15,6"></polyline>
                                    </svg>
                                    이전
                                </button>

                                <div class="pagination-numbers">
                                    <th:block th:each="pageNum : ${#numbers.sequence(1, totalPages)}">
                                        <button class="pagination-number"
                                                th:classappend="${pageNum == currentPage} ? 'active' : ''"
                                                th:data-page="${pageNum}"
                                                th:text="${pageNum}">1</button>
                                    </th:block>
                                </div>

                                <button class="pagination-button next" th:disabled="${currentPage == totalPages}">
                                    다음
                                    <svg class="pagination-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <polyline points="9,18 15,12 9,6"></polyline>
                                    </svg>
                                </button>
                            </nav>

                            <div class="pagination-info">
                                <span th:text="|${(currentPage - 1) * pageSize + 1} - ${(currentPage - 1) * pageSize + faqs.size()} / ${totalItems}개|">1 - 10 / 0개</span>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script src="/js/customer-center/faq.js"></script>
</body>
</html>