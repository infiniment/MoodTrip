<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Î¨¥Îìú Ìä∏Î¶Ω</title>
    <!-- ‚úÖ Thymeleaf Î¶¨ÏÜåÏä§ Í≤ΩÎ°úÎ°ú ÏàòÏ†ï -->
    <link rel="stylesheet" th:href="@{/css/mypage/my-profile.css}">
    <script th:src="@{/js/mypage/my-profile..js}"></script>
    <link rel=" stylesheet" th:href="@{/css/fix/header.css}">
    <link rel="stylesheet" th:href="@{/css/fix/footer.css}">
    <link rel="stylesheet" th:href="@{/css/fix/header-after.css}">

</head>
<body>
<!-- Î°úÍ∑∏Ïù∏ ÏÉÅÌÉúÏóê Îî∞Î•∏ Ï°∞Í±¥Î∂Ä Ìó§Îçî Î†åÎçîÎßÅ -->
<div th:if="${isLoggedIn}">
    <!-- Î°úÍ∑∏Ïù∏Îêú ÏÇ¨Ïö©ÏûêÏö© Ìó§Îçî -->
    <th:block th:replace="~{fix/header-after-login :: header}"></th:block>
</div>
<div th:unless="${isLoggedIn}">
    <!-- Î°úÍ∑∏Ïù∏ ÏïàÎêú ÏÇ¨Ïö©ÏûêÏö© Ìó§Îçî -->
    <th:block th:replace="~{fix/header :: header}"></th:block>
</div>
<div>
    <div class="wrap">
        <div class="page">
            <div class="page-inner">
                <aside class="user-settings-nav">
                    <div class="account-settings">Í≥ÑÏ†ï ÏÑ§Ï†ï</div>
                    <hr orientation="horizontal" class="horizontal-line">
                    <!-- ‚úÖ Thymeleaf URL Î¨∏Î≤ïÏúºÎ°ú ÏàòÏ†ï -->
                    <a class="my_profile active" th:href="@{/mypage/my-profile}">ÎÇ¥ Ï†ïÎ≥¥</a>
                    <a class="my_matching" th:href="@{/mypage/my-matching}">Îß§Ïπ≠ Ï†ïÎ≥¥</a>
                    <a class="join_requests active" th:href="@{/mypage/join-requests}">
                        Î∞© ÏûÖÏû• ÏöîÏ≤≠ Í¥ÄÎ¶¨
                        <!-- üî• ÏÑúÎ≤ÑÏóêÏÑú Î∞õÏùÄ Ï¥ù ÎåÄÍ∏∞ ÏöîÏ≤≠ ÏàòÎ°ú Î∞∞ÏßÄ ÌëúÏãú -->
                        <span class="notification-badge" id="join-requests-badge"
                              th:if="${totalPendingRequests > 0}"
                              th:text="${totalPendingRequests}">3</span>
                    </a>
                    <a class="my_tourist_attraction_wishlist" th:href="@{/mypage/my-tourist-attraction-wishlist}">Í¥ÄÍ¥ëÏßÄ Ï∞ú Î™©Î°ù</a>
                    <a class="change_password active"
                       th:if="${currentMember != null and #strings.isEmpty(currentMember.providerId)}"
                       th:href="@{/mypage/change-password}">ÎπÑÎ∞ÄÎ≤àÌò∏ Î≥ÄÍ≤Ω Ï†ïÎ≥¥</a>
                </aside>

                <main class="mypage_info">
                    <div class="total-wrapper">
                        <h1 class="info-title">ÎÇ¥ Ï†ïÎ≥¥</h1>
                        <!-- ‚úÖ ÏóêÎü¨/ÏÑ±Í≥µ Î©îÏãúÏßÄ ÌëúÏãú ÏòÅÏó≠ Ï∂îÍ∞Ä -->
                        <div th:if="${error}" class="error-message" style="background: #fee; color: #c33; padding: 10px; border-radius: 5px; margin-bottom: 20px;">
                            <p th:text="${error}"></p>
                        </div>
                        <div th:if="${successMessage}" class="success-message" style="background: #efe; color: #060; padding: 10px; border-radius: 5px; margin-bottom: 20px;">
                            <p th:text="${successMessage}"></p>
                        </div>

                        <section class="flex main-wrapper">
                            <div class="flex main-info-wrapper">
                                <section class="change-profile-section">
                                    <div role="article" shape="0" size="120" class="profile-image-part">
                                        <!-- ‚úÖ Thymeleaf Ï°∞Í±¥Î∂Ä Ïù¥ÎØ∏ÏßÄ Í≤ΩÎ°ú -->
                                        <img alt="ÌîÑÎ°úÌïÑ ÏÇ¨ÏßÑ" loading="lazy" shape="0"
                                             th:src="${profile != null and profile.profileImage != null ? profile.profileImage : '/image/mypage/test-profile-img.jpg'}"
                                             class="profile-image">
                                    </div>
                                    <div class="change-profile-btn-main-wrapper">
                                        <div class="profile-btn-wrapper" style="border: none; overflow: auto; padding: 4px;">
                                            <button role="button" class="profile-btn" id="profile-change-btn">
                                                <span class="profile-btn-text">ÌîÑÎ°úÌïÑ Î≥ÄÍ≤Ω</span>
                                            </button>
                                            <input accept="image/gif, image/jpeg, image/png"
                                                   id="file-input"
                                                   type="file"
                                                   style="display:none;">
                                                    </label>
                                                </span>
                                            </button>
                                        </div>
                                    </div>
                                </section>

                                <section class="change-info-section">
                                    <!-- ‚úÖ ÎãâÎÑ§ÏûÑ ÏÑπÏÖò -->
                                    <div class="info-section-wrapper">
                                        <label for="username" class="info-text-label">
                                            <span class="name-text">ÎãâÎÑ§ÏûÑ</span>
                                            <div class="modify-nickname-wrapper">
                                                <span class="modify-nickname">ÏàòÏ†ï</span>
                                            </div>
                                            <div class="complete-nickname-wrapper" hidden>
                                                <span class="save-nickname">Ï†ÄÏû•</span>
                                                <span class="modify-nickname-cancel">Ï∑®ÏÜå</span>
                                            </div>
                                        </label>
                                        <div class="name-input-wrapper">
                                            <div class="name-input-section">
                                                <!-- ‚úÖ ThymeleafÎ°ú ÎèôÏ†Å ÎãâÎÑ§ÏûÑ ÌëúÏãú -->
                                                <input id="username" disabled type="text" maxlength="17" class="name-input"
                                                       th:value="${profile != null ? profile.nickname : 'ÎãâÎÑ§ÏûÑ'}">
                                            </div>
                                        </div>
                                        <ul class="caution-info-wrapper">
                                            <li class="caution-info">* ÌïúÍ∏Ä/ÏòÅÎ¨∏/Ïà´ÏûêÎßå ÏÇ¨Ïö©Ìï† Ïàò ÏûàÏäµÎãàÎã§.</li>
                                        </ul>
                                    </div>

                                    <!-- ‚úÖ Ïù¥Î©îÏùº ÏÑπÏÖò -->
                                    <div class="info-section-wrapper">
                                        <div class="flex email-info-label-wrapper">
                                            <label class="info-text-label">
                                                <span class="email-text">Ïù¥Î©îÏùº</span>
                                            </label>
                                        </div>
                                        <div class="email-info-wrapper">
                                            <div class="email-info-section">
                                                <div class="email-info-placeholder-wrapper">
                                                    <input disabled type="text" class="email-info"
                                                           th:value="${currentMember != null && currentMember.email != null ? currentMember.email : ''}">

                                                    <div class="suffix-wrapper email-check-icon-wrapper"
                                                         th:classappend="${currentMember != null && currentMember.email != null && !#strings.isEmpty(currentMember.email)}
                                                    ? 'email-check-green': 'email-check-red'">
                                                        <span role="img" rotate="0" class="email-check-icon">
                                                        <svg aria-hidden="true" fill="currentColor" focusable="false" height="24" viewBox="0 0 24 24" width="24" class="email-svg-icon">
                                                        <path clip-rule="evenodd" d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22ZM16.301 10.2319C16.6329 9.86186 16.6019 9.29285 16.2319 8.96099C15.8619 8.62913 15.2929 8.66008 14.961 9.03012L11.1606 13.2677L8.94642 11.0535C8.59494 10.7021 8.0251 10.7021 7.67362 11.0535C7.32215 11.405 7.32215 11.9749 7.67363 12.3263L10.5598 15.2125C10.7345 15.3873 10.9735 15.4825 11.2206 15.4757C11.4677 15.469 11.7011 15.361 11.8662 15.177L16.301 10.2319Z" fill-rule="evenodd"></path>
                                                        </svg>
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="info-section-wrapper">
                                        <label class="info-text-label">
                                            <span class="linked-account-text">Ïó∞ÎèôÎêú Í≥ÑÏ†ï</span>
                                        </label>
                                        <ul class="linked-account-type">
                                            <!-- Ïπ¥Ïπ¥Ïò§ -->
                                            <li th:style="${loginType == 'KAKAO'} ? 'background-color:#FEE500;border:none' : 'background-color:#f2f3f7;border:none'"
                                                class="kakao-logo-icon">
                                                <img th:src="@{${kakaoImagePath}}" alt="Ïπ¥Ïπ¥Ïò§ Í≥ÑÏ†ï ÏÉÅÌÉú"
                                                     style="width:24px;height:24px; max-width: none;">
                                            </li>

                                            <!-- Íµ¨Í∏Ä -->
                                            <li th:style="${loginType == 'GOOGLE'} ? 'background-color:#ffffff;border:none' : 'background-color:#f2f3f7;border:none'"
                                                class="google-logo-icon">
                                                <img th:src="@{${googleImagePath}}" alt="Íµ¨Í∏Ä Í≥ÑÏ†ï ÏÉÅÌÉú"
                                                     style="width:24px;height:24px; max-width: none;">
                                            </li>
                                        </ul>
                                    </div>
                                    <!-- ‚úÖ ÏûêÍ∏∞ÏÜåÍ∞ú ÏÑπÏÖò -->
                                    <div class="info-section-wrapper self-introduction-wrapper">
                                        <label class="info-text-label">
                                            <span class="self-introduction-text">ÏûêÍ∏∞ÏÜåÍ∞ú</span>
                                            <div class="cursor-pointer edit-self-introduction-wrapper">
                                                <span class="edit-self-introduction">ÏàòÏ†ï</span>
                                            </div>
                                            <div class="complete-self-introduction-wrapper" hidden>
                                                <span class="save-nickname">Ï†ÄÏû•</span>
                                                <span class="modify-nickname-cancel">Ï∑®ÏÜå</span>
                                            </div>
                                        </label>
                                        <div class="self-introduction-box">
                                            <!-- ‚úÖ ThymeleafÎ°ú ÎèôÏ†Å ÏûêÍ∏∞ÏÜåÍ∞ú ÌëúÏãú -->
                                            <textarea id="selfIntroduction" class="self-introduction-textarea" disabled
                                                      th:text="${profile != null ? profile.profileBio : 'ÏûêÍ∏∞ÏÜåÍ∞úÎ•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.'}">ÏïàÎÖïÌïòÏÑ∏Ïöî Ï†ÄÎäî Ïó¨ÌñâÏùÑ Ï¢ãÏïÑÌïòÍ≥†, Ïã†ÎÇòÎäî Ïï°Ìã∞ÎπÑÌã∞Î•º Ï¶êÍ≤® Ìï©ÎãàÎã§.</textarea>
                                        </div>
                                    </div>

                                    <!-- ‚úÖ ÌÉàÌá¥ Î≤ÑÌäº -->
                                    <div class="withdraw-btn-wrapper">
                                        <button class="withdraw-btn">ÌÉàÌá¥ÌïòÍ∏∞</button>
                                    </div>
                                </section>
                            </div>
                        </section>
                    </div>
                </main>
            </div>
        </div>
    </div>
</div>

<!-- ‚úÖ ÌÉàÌá¥ ÌôïÏù∏ Î™®Îã¨ -->
<div class="modal-overlay" id="withdrawModal">
    <div class="modal-container">
        <div class="modal-header">
            <h2 class="modal-title">
                <svg class="warning-icon" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12 2L1 21h22L12 2zm0 3.99L19.53 19H4.47L12 5.99zM11 16h2v2h-2v-2zm0-6h2v4h-2v-4z"/>
                </svg>
                ÌöåÏõê ÌÉàÌá¥
            </h2>
        </div>

        <div class="modal-content">
            <div class="warning-message">
                <p class="main-warning">Ï†ïÎßêÎ°ú ÌÉàÌá¥ÌïòÏãúÍ≤†ÏäµÎãàÍπå?</p>
                <p class="sub-warning">ÌÉàÌá¥Î•º ÏßÑÌñâÌïòÎ©¥ Îã§ÏùåÍ≥º Í∞ôÏùÄ Îç∞Ïù¥ÌÑ∞Í∞Ä Î™®Îëê ÏÇ≠Ï†úÎê©ÎãàÎã§.</p>
            </div>

            <ul class="deletion-list">
                <li class="deletion-item">
                    <svg class="delete-icon" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                    </svg>
                    Î™®Îì† Í∞úÏù∏Ï†ïÎ≥¥ Î∞è ÌîÑÎ°úÌïÑ Ï†ïÎ≥¥
                </li>
                <li class="deletion-item">
                    <svg class="delete-icon" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                    </svg>
                    Îß§Ïπ≠ Í∏∞Î°ù Î∞è Í¥ÄÎ†® Ï†ïÎ≥¥
                </li>
                <li class="deletion-item">
                    <svg class="delete-icon" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                    </svg>
                    Í¥ÄÍ¥ëÏßÄ Ï∞ú Î™©Î°ù
                </li>
                <li class="deletion-item">
                    <svg class="delete-icon" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                    </svg>
                    ÏïåÎ¶º ÏÑ§Ï†ï Î∞è Í∏∞ÌÉÄ Îç∞Ïù¥ÌÑ∞
                </li>
            </ul>

            <div class="final-warning">
                <strong>‚ö†Ô∏è ÏÇ≠Ï†úÎêú Îç∞Ïù¥ÌÑ∞Îäî Î≥µÍµ¨Ìï† Ïàò ÏóÜÏäµÎãàÎã§.</strong>
            </div>
        </div>

        <div class="modal-footer">
            <button class="cancel-btn" id="cancelWithdraw">Ï∑®ÏÜå</button>
            <button class="confirm-btn" id="confirmWithdraw">ÌÉàÌá¥ÌïòÍ∏∞</button>
        </div>
    </div>
</div>
<!-- Ìë∏ÌÑ∞ Ìè¨Ìï® -->
<th:block th:replace="~{fix/footer :: footer}"></th:block>

<script th:src="@{/js/fix/header.js}"></script>
<script th:src="@{/js/fix/header-after.js}"></script>
</body>
</html>